# 疑難排解

## 概覽

本指南幫助您診斷和解決平台上的常見問題。對於每個問題，我們提供症狀、原因和解決方案。

## 快速診斷檢查清單

在深入具體問題之前，檢查這些常見點：

- [ ] 代理/工作區是否啟用？
- [ ] API 連接是否已授權？
- [ ] 表單是否映射到正確的欄位？
- [ ] 必填欄位是否已填入？
- [ ] 排程是否活躍？
- [ ] 篩選器是否正確？
- [ ] 檢查錯誤日誌
- [ ] 單獨測試
- [ ] 驗證權限

## 動作與工作流程

### 動作未執行

**症狀**：
- 觸發時動作不執行
- 沒有錯誤訊息
- 什麼都沒發生

**常見原因與解決方案**：

**1. 排程已停用**
```
檢查：排程狀態
修正：啟用排程
導航到：排程 → [您的排程] → 啟用
```

**2. 沒有記錄匹配篩選器**
```
檢查：篩選條件
修正：審查和調整篩選器
範例：
  篩選器：status = "準備好"
  實際：所有記錄都有 status = "待定"
  解決方案：變更篩選器或更新記錄
```

**3. 動作未連結到觸發器**
```
檢查：觸發器配置
修正：驗證動作是否在排程/表單/webhook 中選擇
```

### 動作立即失敗

**症狀**：
- 動作開始但在第一步失敗
- 錯誤已記錄

**常見原因與解決方案**：

**1. 缺少必填欄位**
```
錯誤：「欄位 'title' 必填但為空」

檢查：輸入欄位有資料
修正：確保記錄在動作執行前有必填欄位已填入

新增到動作：
  開始時的驗證步驟
  如果必填欄位為空 → 停止並記錄錯誤
```

**2. 無效的欄位參照**
```
錯誤：「欄位 'Article.description' 未找到」

檢查：欄位名稱拼寫和存在性
修正：更正動作配置中的欄位參照
```

**3. API 連接未授權**
```
錯誤：「401 未授權」

檢查：API 連接狀態
修正：
  導航到連接
  刷新或重新授權連接
  測試連接
```

## API 連接

### 連接無法授權

**症狀**：
- OAuth 重新導向失敗
- 授權未完成
- 卡在載入畫面

**常見原因與解決方案**：

**1. 彈出視窗被阻止**
```
原因：瀏覽器阻止 OAuth 彈出視窗
修正：
  - 允許此網站的彈出視窗
  - 嘗試不同的瀏覽器
  - 清除瀏覽器快取
```

**2. 重新導向 URI 不匹配**
```
錯誤：「重新導向 URI 不匹配」

原因：OAuth 配置不正確
修正：
  - 驗證 API 提供者設定中的重新導向 URL
  - 如果是平台層級問題，聯絡支援
```

**3. 權限不足**
```
錯誤：「未授予請求的範圍」

原因：沒有授予所有權限
修正：
  - 重新授權
  - 授予所有請求的權限
  - 檢查帳戶是否有必要的存取層級
```

## 表單

### 表單未提交

**症狀**：
- 提交按鈕沒有作用
- 沒有顯示錯誤訊息
- 頁面不重新導向

**常見原因與解決方案**：

**1. 驗證錯誤**
```
檢查：尋找欄位附近的紅色錯誤訊息
修正：
  - 填寫所有必填欄位
  - 修正格式錯誤（電子郵件、電話等）
  - 檢查字元限制
```

**2. JavaScript 錯誤**
```
檢查：瀏覽器控制台（F12）
修正：
  - 清除瀏覽器快取
  - 嘗試不同的瀏覽器
  - 停用瀏覽器擴充功能
  - 回報給支援
```

### 表單提交但未建立記錄

**症狀**：
- 顯示成功訊息
- 表單中沒有記錄出現

**常見原因與解決方案**：

**1. 錯誤的模型目標**
```
檢查：表單設定
修正：更新表單以目標正確的模型
```

**2. 檢視篩選器隱藏記錄**
```
檢查：表單篩選器
修正：清除所有篩選器或檢查「所有記錄」檢視
```

## 排程

### 排程未執行

**症狀**：
- 預期的執行時間已過
- 沒有記錄執行
- 沒有處理記錄

**常見原因與解決方案**：

**1. 排程已停用**
```
檢查：排程狀態
修正：啟用排程
```

**2. 沒有匹配的記錄**
```
檢查：篩選結果
修正：
  - 審查篩選條件
  - 檢查是否存在應該匹配的記錄
  - 暫時移除篩選器以測試
```

**3. 不正確的時區**
```
檢查：排程時區設定
修正：
  - 設定為正確的時區
  - 考慮夏令時
  範例：
    設定為上午 9:00 EST
    當前為 PST（錯誤）
    修正：變更時區為 America/New_York
```

## AI 生成

### AI 生成低品質輸出

**症狀**：
- 輸出不符合預期
- 結果不一致
- 通用或不相關的內容

**常見原因與解決方案**：

**1. 模糊的提示**
```
不好：
  「寫點關於這個產品的東西」

好：
  「為 {product_name} 撰寫 100 字的產品描述。
   突出這些功能：{features}。
   目標受眾：{audience}。
   語氣：{tone}。
   包含行動號召。」

修正：使提示更具體和詳細
```

**2. 溫度過高**
```
檢查：溫度設定
修正：
  當前：1.0（太有創意，不一致）
  變更為：0.7（平衡）
  對於事實內容：0.3（更一致）
```

**3. 上下文不足**
```
不好：
  輸入：只有產品名稱

好：
  輸入：產品名稱、功能、優勢、目標受眾、競爭對手

修正：在輸入中提供更多上下文
```

### AI 回應為空或截斷

**症狀**：
- AI 什麼都不生成
- 回應在句中截斷
- 不完整的輸出

**常見原因與解決方案**：

**1. 超出令牌限制**
```
檢查：最大令牌設定
修正：
  - 增加最大令牌
  - 縮短輸入
  - 簡化任務
  範例：
    當前：100 令牌（太少）
    變更為：500-1000 令牌
```

**2. 提示問題**
```
檢查：提示是否有錯誤
修正：
  - 移除特殊字元
  - 修正模板變數語法
  - 確保所有變數都有值
```

## 資料與記錄

### 記錄未出現在表單中

**症狀**：
- 記錄已建立（已確認）
- 在表單檢視中不可見

**常見原因與解決方案**：

**1. 檢視篩選器活躍**
```
檢查：表單上的篩選器設定
修正：
  - 清除所有篩選器
  - 檢查「所有記錄」檢視
  - 建立沒有篩選器的新檢視
```

**2. 權限**
```
檢查：使用者權限
修正：驗證使用者可以檢視模型中的所有記錄
```

### 無法編輯記錄

**症狀**：
- 欄位顯示為唯讀
- 儲存按鈕已停用
- 變更不持久

**常見原因與解決方案**：

**1. 權限**
```
檢查：使用者角色
修正：授予編輸權限
```

**2. 記錄已鎖定**
```
檢查：鎖定狀態或狀態欄位
修正：解鎖記錄或將狀態變更為可編輯
```

## 效能問題

### 動作執行緩慢

**症狀**：
- 動作逾時
- 執行時間非常長
- 效能不一致

**常見原因與解決方案**：

**1. 複雜的 AI 提示**
```
檢查：提示長度和複雜性
修正：
  - 簡化提示
  - 減少最大令牌
  - 拆分為多個較小的步驟
```

**2. 太多 API 呼叫**
```
檢查：動作中的 API 呼叫數量
修正：
  - 批次請求
  - 快取回應
  - 減少外部呼叫
```

## 獲取協助

### 聯絡支援前

1. **檢查錯誤日誌**
   - 審查詳細的錯誤訊息
   - 注意錯誤代碼
   - 擷取螢幕截圖

2. **嘗試重現**
   - 您能重現問題嗎？
   - 每次都會發生嗎？
   - 在什麼特定場景中？

3. **隔離問題**
   - 測試個別元件
   - 在不同的工作區中嘗試
  - 使用不同的資料測試

4. **收集資訊**
   - 代理名稱
   - 工作區名稱
   - 模型名稱
   - 動作名稱
   - 錯誤的時間戳記
   - 您預期的 vs. 實際發生的

## 常見錯誤代碼

```
400 - 錯誤請求
  原因：傳送到 API 的資料無效
  修正：檢查請求格式和資料

401 - 未授權
  原因：憑證無效或已過期
  修正：重新授權連接

403 - 禁止
  原因：權限不足
  修正：檢查使用者權限或 API 範圍

404 - 未找到
  原因：資源不存在
  修正：驗證 ID 和端點

429 - 超出速率限制
  原因：請求太多
  修正：放慢速度，實施節流

500 - 伺服器錯誤
  原因：外部服務錯誤
  修正：重試，檢查服務狀態

503 - 服務無法使用
  原因：服務暫時無法使用
  修正：等待並重試
```

## 預防技巧

### 避免常見問題

1. **先在開發中測試**
   - 始終在開發工作區中測試新動作
   - 使用範例資料
   - 在移至生產之前驗證

2. **實施錯誤處理**
   - 新增重試邏輯
   - 包含後備
   - 全面記錄錯誤

3. **定期監控**
   - 檢查執行日誌
   - 審查效能指標
   - 設定警報

4. **記錄一切**
   - 記錄動作目的
   - 注意欄位相依性
   - 保留配置記錄

5. **使用版本控制**
   - 追蹤變更
   - 部署前測試
   - 保留回滾計劃

## 下一步

- [最佳實踐](./14-best-practices.md) - 在問題發生前預防
- [使用案例](./15-use-cases.md) - 看到工作範例
- [動作](./09-actions.md) - 理解動作配置
