# 模型與表單

## 概覽

模型定義您資料的結構，而表單是儲存記錄的實際資料庫表格。它們共同構成了平台中資料管理的基礎。

## 什麼是模型？

**模型**是定義以下內容的藍圖：
- 您想要追蹤什麼資料
- 您的資料有什麼欄位（列）
- 資料如何組織
- 您可以對資料做什麼（表單和動作）

將模型視為程式設計中的類別或資料庫中的表格定義。

## 什麼是表單？

**表單**是模型的實際資料儲存：
- 包含所有記錄（行）
- 具有由模型欄位定義的列
- 以表格格式顯示資料
- 支援篩選、排序和檢視

將表單視為帶有實際資料的試算表或資料庫表格。

## 模型-表單關係

```
模型：「客戶」                    表單：客戶資料
├── 欄位定義                      ├── 實際記錄
│   ├── 姓名（文字）              │   ├── 第 1 行：John Doe
│   ├── 電子郵件（電子郵件）      │   ├── 第 2 行：Jane Smith
│   └── 狀態（選擇）              │   └── 第 3 行：Bob Johnson
├── 表單                          ├── 篩選檢視
└── 動作                          └── 排序選項

一個模型 → 一個表單
```

## 建立模型

### 基本模型設定

**必要資訊**：
- **模型名稱**：您正在追蹤的內容（例如「產品」、「客戶」、「訂單」）
- **描述**：模型的目的
- **圖示**：視覺識別符（可選）

**範例**：
```
名稱：部落格文章
描述：管理從草稿到發布的部落格內容
圖示：📝
工作區：內容中心
```

### 欄位配置

新增欄位以定義您的資料結構：

```
部落格文章模型：
  ├── id（自動生成）
  ├── title（文字，必填）
  ├── content（長文字，必填）
  ├── author（文字）
  ├── category（選擇：技術、行銷、產品）
  ├── status（選擇：草稿、審查中、已發布）
  ├── publishedDate（日期）
  ├── featuredImage（檔案上傳）
  ├── views（數字）
  └── tags（多選）
```

## 欄位類型和使用案例

### 文字欄位

#### 短文字
- **用途**：名稱、標題、簡短描述
- **最大長度**：255 字元
- **範例**：產品名稱、電子郵件主旨、類別

```
欄位：產品名稱
類型：文字
必填：是
驗證：3-100 字元
預設：""
```

#### 長文字
- **用途**：描述、內容、備註
- **最大長度**：無限制
- **範例**：部落格內容、產品描述、備註

```
欄位：文章內容
類型：長文字
必填：是
富文字：啟用
預設：""
```

#### 電子郵件
- **用途**：電子郵件地址
- **驗證**：自動電子郵件格式檢查
- **範例**：客戶電子郵件、聯絡電子郵件

```
欄位：聯絡電子郵件
類型：電子郵件
必填：是
唯一：是
```

#### 電話
- **用途**：電話號碼
- **驗證**：可選格式驗證
- **範例**：客戶電話、支援號碼

```
欄位：電話號碼
類型：電話
必填：否
格式：國際
```

#### URL
- **用途**：網址
- **驗證**：有效的 URL 格式
- **範例**：網站、社交個人檔案、圖像 URL

```
欄位：網站
類型：URL
必填：否
自動連結：是
```

### 數字欄位

#### 數字
- **用途**：數量、價格、分數
- **精度**：可配置的小數位數
- **範例**：價格、數量、評分

```
欄位：價格
類型：數字
必填：是
最小值：0
小數位數：2
前綴：$
```

#### 貨幣
- **用途**：貨幣值
- **格式**：特定於貨幣的格式
- **範例**：收入、成本、預算

```
欄位：預算
類型：貨幣
貨幣：USD
必填：是
```

### 選擇欄位

#### 單選
- **用途**：從預定義選項中單選
- **選項**：手動定義
- **範例**：狀態、類別、優先級

```
欄位：狀態
類型：選擇
選項：
  - 草稿（灰色）
  - 審查中（黃色）
  - 已發布（綠色）
  - 已封存（紅色）
預設：草稿
必填：是
```

#### 多選
- **用途**：從選項中多選
- **選項**：手動定義
- **範例**：標籤、技能、功能

```
欄位：標籤
類型：多選
選項：
  - AI
  - 行銷
  - 教學
  - 案例研究
  - 產品更新
最大選擇數：5
```

### 日期和時間欄位

#### 日期
- **用途**：不帶時間的日期
- **格式**：可配置
- **範例**：出生日期、截止日期、發布日期

```
欄位：發布日期
類型：日期
必填：否
格式：MM/DD/YYYY
預設：今天
```

#### 日期/時間
- **用途**：時間戳記
- **時區**：感知
- **範例**：建立時間、最後更新、排程時間

```
欄位：排程時間
類型：日期/時間
必填：是
時區：使用者的時區
包含時間：是
```

### 布林欄位

#### 核取方塊
- **用途**：是/否、真/假值
- **顯示**：核取記號或切換
- **範例**：已發布、活躍、精選

```
欄位：已發布
類型：核取方塊
預設：false
```

### 檔案欄位

#### 檔案上傳
- **用途**：文件、圖像、媒體
- **類型**：可配置的檔案類型限制
- **範例**：圖像、PDF、視訊

```
欄位：精選圖像
類型：檔案
接受：僅圖像（.jpg、.png、.webp）
最大大小：5 MB
必填：否
```

### 關聯欄位

#### 連結到另一個模型
- **用途**：跨模型連接記錄
- **類型**：一對一、一對多、多對多
- **範例**：客戶訂單、產品類別

```
欄位：作者
類型：關聯
目標模型：使用者
關聯：多對一（多篇文章，一個作者）
顯示欄位：name
```

## 進階欄位配置

### 驗證規則

```
欄位：電子郵件
類型：電子郵件
驗證：
  - 必填：是
  - 唯一：是
  - 格式：電子郵件
  - 自訂正則表達式：^[a-z0-9]+@company\.com$
  - 錯誤訊息：「必須是公司電子郵件」
```

### 計算欄位

```
欄位：全名
類型：計算
公式：{名} + " " + {姓}
唯讀：是
```

```
欄位：總價
類型：計算
公式：{數量} * {單價}
更新：任何欄位變更時
```

### 條件欄位

```
欄位：折扣代碼
類型：文字
可見：當 {有折扣} = true 時
必填：可見時
```

## 處理表單

### 表單檢視

表單可以以多種方式顯示資料：

#### 表格檢視（預設）
```
標準試算表佈局
- 行：記錄
- 列：欄位
- 排序：點擊列標題
- 篩選：列篩選器
```

#### 網格檢視
```
基於卡片的佈局
- 每筆記錄都是一張卡片
- 視覺呈現
- 拖放
- 適合圖像
```

#### 日曆檢視
```
基於日期的顯示
- 需要日期欄位
- 月、週、日檢視
- 拖動重新排程
- 適合排程
```

#### 看板檢視
```
基於列的工作流程
- 按選擇欄位分組
- 在列之間拖動
- 視覺化工作流程
- 適合狀態追蹤
```

### 自訂檢視

**自訂檢視**是基於使用案例的精美設計介面，以比標準表格檢視更視覺化和符合情境的格式呈現您的記錄。

#### 什麼是自訂檢視？

自訂檢視將原始資料轉換為專門建立的介面：

- **情境設計**：針對特定使用案例優化的 UI
- **視覺吸引力**：精美、現代的介面，而非試算表佈局
- **增強可讀性**：為易於理解而組織的資訊
- **使用者友善**：直覺的導航和互動
- **專業呈現**：適合面向客戶場景的精緻外觀

#### 自訂檢視範例

**內容日曆檢視**
```
適用於：部落格文章模型

顯示：
┌─────────────────────────────────────────────┐
│  📅 2025 年 10 月內容日曆                    │
├─────────────────────────────────────────────┤
│                                             │
│  星期一         星期二          星期三       │
│  ┌────────────┐  ┌────────────┐ ┌─────────┐│
│  │ 📝 文章    │  │            │ │ 📝 貼文 ││
│  │ 10個AI技巧 │  │            │ │ 指南    ││
│  │ 作者: J    │  │            │ │ 狀態:   ││
│  │ 狀態: ✅   │  │            │ │ 草稿    ││
│  └────────────┘  └────────────┘ └─────────┘│
│                                             │
└─────────────────────────────────────────────┘

功能：
- 視覺化日曆佈局
- 按狀態顏色編碼
- 拖放重新排程
- 懸停時快速預覽
- 作者頭像
- 發布狀態圖示
```

**產品目錄檢視**
```
適用於：產品模型

顯示：
┌─────────────────────────────────────────────┐
│  🛍️ 產品目錄                                 │
├─────────────────────────────────────────────┤
│                                             │
│  ┌────────┐  ┌────────┐  ┌────────┐       │
│  │ [圖片] │  │ [圖片] │  │ [圖片] │       │
│  │        │  │        │  │        │       │
│  │ 筆電   │  │ 滑鼠   │  │ 書桌   │       │
│  │ $999   │  │ $29    │  │ $399   │       │
│  │ ⭐⭐⭐⭐⭐ │  │ ⭐⭐⭐⭐  │  │ ⭐⭐⭐⭐⭐ │       │
│  │ 📦 50  │  │ 📦 200 │  │ 📦 15  │       │
│  └────────┘  └────────┘  └────────┘       │
│                                             │
└─────────────────────────────────────────────┘

功能：
- 帶產品圖像的網格佈局
- 價格顯著顯示
- 星級評分視覺化
- 庫存水平指示器
- 快速操作（編輯、複製）
- 按類別/價格篩選
```

**聯絡人管理檢視**
```
適用於：客戶模型

顯示：
┌─────────────────────────────────────────────┐
│  👥 客戶目錄                                 │
├─────────────────────────────────────────────┤
│                                             │
│  ┌─────────────────────────────┐           │
│  │ 👤 John Doe                 │           │
│  │ john@acme.com               │           │
│  │ Acme Corp · CEO             │           │
│  │ 📞 (555) 123-4567           │           │
│  │ 💰 終身價值: $50,000         │           │
│  │ 📅 最後聯絡: 2 天前          │           │
│  │ [📧 郵件] [📞 電話] [✏️ 編輯]│           │
│  └─────────────────────────────┘           │
│                                             │
│  ┌─────────────────────────────┐           │
│  │ 👤 Jane Smith               │           │
│  │ jane@techco.io              │           │
│  │ TechCo · CTO                │           │
│  │ ...                         │           │
│  └─────────────────────────────┘           │
│                                             │
└─────────────────────────────────────────────┘

功能：
- 基於卡片的聯絡人佈局
- 個人照片
- 一鍵通訊
- 關鍵指標一目了然
- 狀態指示器
- 最近活動時間軸
```

**專案儀表板檢視**
```
適用於：專案模型

顯示：
┌─────────────────────────────────────────────┐
│  📊 專案儀表板                               │
├─────────────────────────────────────────────┤
│                                             │
│  網站重新設計                               │
│  ████████░░ 80% 完成                       │
│  👥 5 名成員 · 📅 5 天後到期               │
│  🔴 3 個障礙 · ✅ 24/30 任務               │
│                                             │
│  行動應用程式發布                           │
│  ████░░░░░░ 40% 完成                       │
│  👥 8 名成員 · 📅 14 天後到期              │
│  🟢 按計劃進行 · ✅ 12/30 任務             │
│                                             │
└─────────────────────────────────────────────┘

功能：
- 進度條
- 團隊成員頭像
- 狀態指示器
- 關鍵指標
- 快速操作
- 優先級突出顯示
```

**畫廊檢視**
```
適用於：作品集 / 媒體模型

顯示：
┌─────────────────────────────────────────────┐
│  🎨 作品集畫廊                               │
├─────────────────────────────────────────────┤
│                                             │
│  ┌────────┐ ┌────────┐ ┌────────┐         │
│  │ [圖片] │ │ [圖片] │ │ [圖片] │         │
│  │ 大     │ │ 大     │ │ 大     │         │
│  │        │ │        │ │        │         │
│  │ 專案   │ │ 設計   │ │ 攝影   │         │
│  │ Alpha  │ │ 作品   │ │ 系列   │         │
│  └────────┘ └────────┘ └────────┘         │
│                                             │
│  ┌──────┐ ┌──────┐ ┌──────┐ ┌──────┐     │
│  │[圖片]│ │[圖片]│ │[圖片]│ │[圖片]│     │
│  │ 小   │ │ 小   │ │ 小   │ │ 小   │     │
│  └──────┘ └──────┘ └──────┘ └──────┘     │
│                                             │
└─────────────────────────────────────────────┘

功能：
- 瀑布流佈局
- 燈箱預覽
- 圖像優化
- 延遲載入
- 按標籤篩選
- 按日期/檢視次數排序
```

**分析儀表板檢視**
```
適用於：指標 / 分析模型

顯示：
┌─────────────────────────────────────────────┐
│  📈 分析概覽                                 │
├─────────────────────────────────────────────┤
│                                             │
│  總檢視次數      參與率                     │
│  ┌─────────┐   ┌─────────┐                │
│  │ 45,231  │   │  8.5%   │                │
│  │ ↑ 12%   │   │  ↑ 2.1% │                │
│  └─────────┘   └─────────┘                │
│                                             │
│  📊 趨勢                                     │
│  ┌───────────────────────────────┐         │
│  │        ╱╲    ╱╲               │         │
│  │   ╱╲  ╱  ╲  ╱  ╲              │         │
│  │  ╱  ╲╱    ╲╱    ╲             │         │
│  └───────────────────────────────┘         │
│                                             │
└─────────────────────────────────────────────┘

功能：
- 即時指標
- 互動式圖表
- 趨勢指示器
- 期間比較
- 匯出功能
- 可自訂小部件
```

#### 自訂檢視的優勢

**增強使用者體驗**：
- 針對特定工作流程量身訂製的直覺介面
- 透過情境資訊減少認知負荷
- 更快的資料理解

**專業呈現**：
- 看起來精緻的面向客戶的顯示
- 激發信心的團隊儀表板
- 準備好用於簡報的檢視

**提高生產力**：
- 快速存取相關資訊
- 狀態和優先級的視覺指示器
- 從檢視中一鍵操作

**更好的決策制定**：
- 資料視覺化有助於理解
- 關鍵指標顯著顯示
- 趨勢和模式易於識別

#### 建立自訂檢視

**基於使用案例的生成**：
```
1. 選擇您的模型
2. 選擇「建立自訂檢視」
3. 選擇使用案例：
   - 內容日曆
   - 產品目錄
   - 聯絡人目錄
   - 專案儀表板
   - 畫廊
   - 分析
   - 任務板
   - 時間軸
4. 自訂：
   - 選擇要顯示的欄位
   - 設定視覺偏好
   - 配置互動
5. 預覽並儲存
```

**自訂選項**：
- 佈局風格（卡片、網格、清單）
- 色彩方案
- 顯示密度（緊湊、舒適、寬敞）
- 精選欄位
- 快速操作按鈕
- 排序和篩選預設值

#### 自訂檢視 vs. 標準檢視

| 功能 | 標準表格 | 自訂檢視 |
|---------|---------------|-------------|
| **佈局** | 行和列 | 情境設計 |
| **視覺吸引力** | 功能性 | 精美 |
| **使用案例** | 通用 | 特定 |
| **資訊密度** | 高 | 優化 |
| **學習曲線** | 熟悉 | 直覺 |
| **自訂化** | 有限 | 廣泛 |
| **面向客戶** | 基本 | 專業 |

#### 何時使用自訂檢視

**使用自訂檢視當**：
- 向客戶或利害關係人展示資料
- 需要視覺吸引力很重要
- 需要特定於情境的資訊顯示
- 管理媒體/圖像
- 追蹤專案或任務
- 建立儀表板
- 展示作品集

**使用標準表格當**：
- 需要大量資料輸入
- 需要詳細編輯
- 複雜的篩選/排序
- 資料匯出/分析
- 快速掃描多筆記錄
```

### 表單操作

#### 排序

```
排序依據：
  主要：發布日期（降序）
  次要：檢視次數（降序）
  
結果：最新、最受歡迎的文章優先
```

#### 篩選

```
篩選器：
  狀態 = "已發布"
  AND 類別 = "行銷"
  AND 發布日期 > 2025-01-01
  
結果：最近發布的行銷文章
```

#### 分組

```
分組依據：類別
  
結果：
  技術（15 篇文章）
  行銷（22 篇文章）
  產品（8 篇文章）
```

### 表單權限

```
檢視權限：
  - 公開：任何人都可以檢視
  - 工作區：僅工作區成員
  - 私人：僅模型擁有者

編輯權限：
  - 所有工作區成員
  - 僅特定角色
  - 僅擁有者
```

## 模型關聯

### 一對多

模型 A 中的一筆記錄關聯到模型 B 中的多筆記錄。

```
客戶模型（一）
  id: 1
  name: "Acme Corp"
  
訂單模型（多）
  id: 101, customer_id: 1
  id: 102, customer_id: 1
  id: 103, customer_id: 1
  
一個客戶有多個訂單
```

### 多對一

模型 A 中的多筆記錄關聯到模型 B 中的一筆記錄。

```
文章模型（多）
  id: 1, author_id: 10
  id: 2, author_id: 10
  id: 3, author_id: 10
  
作者模型（一）
  id: 10
  name: "Jane Doe"
  
一個作者的多篇文章
```

### 多對多

兩個模型中的記錄都可以關聯到另一個模型中的多筆記錄。

```
產品模型
  id: 1, name: "筆記型電腦"
  id: 2, name: "滑鼠"
  
標籤模型
  id: 101, name: "電子產品"
  id: 102, name: "配件"
  
產品-標籤關聯：
  產品 1 → 標籤 101
  產品 1 → 標籤 102
  產品 2 → 標籤 102
  
筆記型電腦有標籤：電子產品、配件
滑鼠有標籤：配件
```

### 父子

同一模型內或跨模型的階層關係。

```
部落格文章（父）
  id: 1
  title: "如何使用 AI"
  
社交貼文（子）
  id: 201, parent_article: 1, platform: "Instagram"
  id: 202, parent_article: 1, platform: "Twitter"
  id: 203, parent_article: 1, platform: "LinkedIn"
  
一篇文章生成多個社交貼文
```

## 模型模板

### 常見模型模式

#### 內容模型
```
名稱：部落格貼文
欄位：
  - title（文字）
  - slug（文字，唯一）
  - content（長文字）
  - author（關聯 → 使用者）
  - category（選擇）
  - tags（多選）
  - status（選擇）
  - publishedDate（日期）
  - featuredImage（檔案）
  - seo_title（文字）
  - seo_description（文字）
```

#### 客戶模型
```
名稱：客戶
欄位：
  - firstName（文字）
  - lastName（文字）
  - email（電子郵件，唯一）
  - phone（電話）
  - company（文字）
  - status（選擇：潛在客戶、活躍、流失）
  - source（選擇：網站、推薦、廣告）
  - lifetime_value（貨幣）
  - created_at（日期/時間）
  - notes（長文字）
```

#### 產品模型
```
名稱：產品
欄位：
  - sku（文字，唯一）
  - name（文字）
  - description（長文字）
  - category（選擇）
  - price（貨幣）
  - cost（貨幣）
  - stock_quantity（數字）
  - images（檔案，多個）
  - active（核取方塊）
  - tags（多選）
```

#### 任務模型
```
名稱：任務
欄位：
  - title（文字）
  - description（長文字）
  - assignee（關聯 → 使用者）
  - status（選擇：待辦、進行中、完成）
  - priority（選擇：低、中、高）
  - due_date（日期）
  - created_at（日期/時間）
  - completed_at（日期/時間）
  - tags（多選）
```

## 最佳實踐

### 模型設計

**保持模型專注**
```
好：
  - 客戶
  - 訂單
  - 產品

避免：
  - 一切（所有資料的單一模型）
```

**使用關聯**
```
好：
  訂單模型連結到客戶模型
  
避免：
  在每個訂單中複製客戶資料
```

**選擇適當的欄位類型**
```
好：
  - 價格：貨幣欄位
  - 電子郵件：電子郵件欄位
  - 狀態：選擇欄位

避免：
  - 一切都是文字欄位
```

### 欄位命名

**使用清晰的名稱**
```
好：
  - publishedDate
  - firstName
  - totalPrice

避免：
  - date
  - name
  - price
```

**保持一致**
```
好：
  - createdAt, updatedAt, publishedAt
  
避免：
  - created_date, update_time, published
```

**為相關欄位使用前綴**
```
好：
  - seo_title, seo_description, seo_keywords
  - billing_address, billing_city, billing_zip
  
避免：
  - title, meta, search_title
```

### 表單組織

**建立多個檢視**
```
- 所有記錄（預設）
- 僅已發布
- 需要審查
- 按作者
- 按類別
```

**有效使用篩選器**
```
將常見篩選器儲存為檢視：
  - 「本週的貼文」
  - 「待審批」
  - 「高優先級」
```

**封存舊資料**
```
而不是刪除：
  - 新增「已封存」核取方塊
  - 預設篩選掉已封存
  - 保留以供歷史參考
```

## 疑難排解

### 常見問題

**問題**：一個模型中的欄位太多  
**解決方案**：拆分為相關模型，使用關聯

**問題**：記錄未出現在表單中  
**解決方案**：檢查檢視篩選器，驗證記錄建立，檢查權限

**問題**：無法刪除模型  
**解決方案**：先移除所有記錄，檢查相依性

**問題**：關聯欄位無法運作  
**解決方案**：驗證目標模型存在，檢查關聯配置

## 下一步

- [欄位與記錄](./07-fields-and-records.md) - 深入探討處理資料
- [表單](./08-forms.md) - 為您的模型建立輸入介面
- [動作](./09-actions.md) - 建立處理資料的工作流程
- [資料流](./13-data-flow.md) - 了解資料如何在系統中移動

