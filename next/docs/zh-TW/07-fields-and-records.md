# 欄位與記錄

## 概覽

欄位定義您捕獲什麼資料，記錄是該資料的個別實例。了解如何使用兩者對於建立有效的自動化工作流程至關重要。

## 欄位深入探討

### 什麼是欄位？

**欄位**是模型中的單一資料點 - 表單中的一列。欄位具有：
- **名稱**：資料代表什麼
- **類型**：它儲存什麼類型的資料
- **屬性**：驗證、預設值、限制
- **目的**：如何使用（輸入、輸出、計算）

### 欄位生命週期

#### 1. 定義
```
建立欄位：
  名稱：「電子郵件主旨」
  類型：文字
  必填：是
  最大長度：100
  預設：""
```

#### 2. 輸入
```
資料透過以下方式進入欄位：
  - 使用者表單提交
  - API 匯入
  - 手動輸入
  - 動作輸出
```

#### 3. 處理
```
欄位值用於：
  - 動作輸入
  - 條件邏輯
  - 計算
  - API 呼叫
```

#### 4. 輸出
```
欄位值顯示在：
  - 表單檢視
  - 表單確認
  - 外部整合
  - 報告
```

### 欄位屬性

#### 必填欄位

```
欄位：客戶電子郵件
必填：是

行為：
  - 沒有它表單將不會提交
  - 如果缺少 API 呼叫將失敗
  - 手動記錄建立被阻止
  - 在 UI 中顯示紅色星號
```

#### 唯一欄位

```
欄位：產品 SKU
唯一：是

行為：
  - 系統檢查重複項
  - 如果找到重複項，建立失敗
  - 僅允許更新為唯一值
  - 對識別符有用
```

#### 預設值

```
欄位：狀態
類型：選擇
預設：「草稿」

行為：
  - 新記錄自動設為「草稿」
  - 使用者可以覆蓋
  - 在表單中節省時間
  - 確保一致性
```

#### 驗證規則

```
欄位：電話號碼
驗證：
  模式：^\+?[1-9]\d{1,14}$
  錯誤：「請輸入有效的電話號碼」

行為：
  - 阻止無效輸入
  - 顯示錯誤訊息
  - 確保資料品質
```

## 記錄深入探討

### 什麼是記錄？

**記錄**是表單中的單一行 - 模型的一個完整實例。

範例：
```
模型：客戶

記錄 1：
  id: 1
  firstName: "John"
  lastName: "Doe"
  email: "john@example.com"
  status: "活躍"
  createdAt: "2025-01-15"
```

### 記錄建立

#### 透過表單

```
使用者填寫表單：
  名: John
  姓: Doe
  電子郵件: john@example.com

結果：建立新記錄，包含：
  - 使用者輸入值
  - 自動生成的 ID
  - 預設欄位值
  - 時間戳記
```

#### 透過 API

```
POST /api/models/customers/records
{
  "firstName": "Jane",
  "lastName": "Smith",
  "email": "jane@example.com"
}

結果：透過 API 呼叫建立記錄
```

#### 透過動作

```
動作步驟：建立子記錄
父：部落格文章（id: 5）
目標模型：社交貼文

建立：
  sourceArticle: 5
  platform: "Instagram"
  status: "草稿"

結果：連結到父的子記錄
```

### 記錄關聯

#### 父子關聯

```
父記錄（部落格文章）：
  id: 100
  title: "10 個 AI 技巧"
  content: "..."

子記錄（社交貼文）：
  id: 501
  sourceArticle: 100
  platform: "Instagram"
  
  id: 502
  sourceArticle: 100
  platform: "Twitter"
  
  id: 503
  sourceArticle: 100
  platform: "LinkedIn"

一個父 → 多個子
```

## 欄位在動作中的使用

### 輸入欄位

為動作提供資料的欄位：

```
動作：生成社交貼文

輸入欄位：
  - 文章.title
  - 文章.content
  - 文章.author
  - 文章.category

這些值輸入 AI 處理
```

### 輸出欄位

儲存動作結果的欄位：

```
動作：生成社交貼文

輸出欄位：
  - 社交貼文.postText（生成的說明）
  - 社交貼文.imageUrl（生成的圖像）
  - 社交貼文.hashtags（提取的標籤）

動作將結果寫入這些欄位
```

## 全域工作區欄位

### 理解全域欄位

在工作區內，**所有模型欄位都可存取**給所有動作。這實現了強大的跨模型工作流程。

### 範例：跨模型動作

```
工作區：內容中心

模型 A：部落格文章
  - id
  - title
  - content
  - author

模型 B：社交貼文
  - id
  - platform
  - postText
  - sourceArticle（→ 部落格文章）

社交貼文中的動作可以存取：
  - 本地：社交貼文.platform
  - 全域：部落格文章.title（來自相關記錄）
  - 全域：部落格文章.content（來自相關記錄）
```

## 最佳實踐

### 欄位設計

**從簡單開始**
```
從基本欄位開始：
  - 識別符（姓名、SKU、電子郵件）
  - 核心資料（描述、內容）
  - 狀態（活躍、草稿、已發布）
  - 時間戳記（建立、更新）

根據需要新增更多欄位
```

**使用適當的類型**
```
電子郵件 → 電子郵件欄位（不是文字）
價格 → 貨幣欄位（不是數字）
狀態 → 選擇欄位（不是文字）

適當的類型實現更好的驗證和使用者體驗
```

### 記錄管理

**保持記錄乾淨**
```
- 封存舊記錄
- 刪除重複項
- 定期驗證
- 備份重要資料
```

**使用關聯**
```
連結相關資料：
  - 不要複製
  - 改為參照
  - 維護完整性
  - 啟用強大的查詢
```

## 下一步

- [表單](./08-forms.md) - 建立輸入欄位資料的介面
- [動作](./09-actions.md) - 建立處理記錄的工作流程
- [資料流](./13-data-flow.md) - 了解資料如何在系統中移動
- [最佳實踐](./14-best-practices.md) - 優化您的資料設計
